<app-drop-down title="WITHDRAWAL"></app-drop-down>

<ion-content>

  <ion-grid >
    <ion-row>
      <ion-col size="6">

        <ion-card class="p-3" color="light">
          <p>Balance</p>
            <h5 class="text-center">{{userDetails?.balance |currency:'₦'}} </h5>
        </ion-card>

      </ion-col>
      <ion-col size="6">
        <ion-card class="p-3" color="light">
          <p>Withdrawal</p>
          <h5 class="text-center">{{userDetails?.withdrawal_req  |currency:'₦'}} </h5>
        
        </ion-card>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col size-sm="0" size-md="2" size-lg="1"></ion-col>

      <ion-col size-sm="12" size-md="8" size-lg="10">

        <div>Request Withdrawal</div>
      <ion-item color="success">
        <ion-label> ₦</ion-label>
        <input style="color: black; font-weight: bold;" placeholder="Enter amount here" type="number" [(ngModel)]="amountModel.amount" >
        <i class="fab fa-amazon-pay fa-2x pl-2"></i>
      </ion-item>
      

      </ion-col>
      <ion-col size-sm="0" size-md="2" size-lg="1">   
      </ion-col>

    </ion-row>
    <div class="text-center">
  
      <ion-button color="success" [disabled]="amountModel.amount < 100" (click)="withdrawNow()"  >
        Withdraw Now
      </ion-button>
    </div>
  </ion-grid >


  <ion-content class="mt-5" >

   
    <ion-grid >
      <ion-row>
        <ion-col size-sm="0" size-md="2" size-lg="1"></ion-col>
        <ion-col size-sm="12" size-md="8" size-lg="10">

          <h6 class="text-left p-4 font-weight-bold"> Withdrawal List</h6>  
          <table class="table table-striped table-responsive text-center">
            <thead>
              <tr>
                <th>#</th>
                <th>Amount</th>
                <th>Email</th>
                <th>Username</th>
                <th>Paid</th>
                <th>Date</th>
                <th>Pay date</th>
              </tr>
            </thead>
            <tbody *ngFor="let item of myWithdrawal; index as i">
              <tr>
                <td>{{i + 1}} </td>
                <td>{{item?.amount |currency:"₦"}} </td>
                <td>{{item?.email}} </td>
                <td>{{item?.username}} </td>
                <td *ngIf="item.paid"> <p class="font-weight-bold text-success">PAID</p> </td>
                <td *ngIf="!item.paid"> <p class="font-weight-bold text-danger">AWAITING</p> </td>
                <td>{{item?.date | date:'dd/MM/yyyy'}} </td>
                <td>{{item?.pay_date | date:'dd/MM/yyyy'}} </td>
              </tr>
           
            </tbody>
          </table>
     

        </ion-col>
        <ion-col size-sm="0" size-md="2" size-lg="1"></ion-col>
      </ion-row>
    </ion-grid>

  </ion-content>
  

  
</ion-content>
